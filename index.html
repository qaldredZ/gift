<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>An Ethereal Gift</title>
    <style>
        :root {
            /* Godly Purple Palette */
            --bg-top: #1a1a2e;
            --bg-bottom: #4b2a6d;
            --accent-light: #e0aaff;
            --accent-main: #9d4edd;
            --accent-dark: #5a189a;
            --glass: rgba(255, 255, 255, 0.1);
        }

        body {
            /* Deep cosmic gradient */
            background: linear-gradient(135deg, var(--bg-top), var(--bg-bottom));
            margin: 0;
            height: 100dvh;
            width: 100vw;
            overflow: hidden;
            font-family: 'SF Pro Display', -apple-system, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
            -webkit-user-select: none;
            touch-action: none;
        }

        /* Ambient Star Dust Effect */
        body::before {
            content: "";
            position: absolute;
            width: 2px; height: 2px;
            background: white;
            box-shadow: 10vw 20vh 1px white, 50vw 10vh 2px #e0aaff, 80vw 40vh 1px white, 20vw 70vh 2px #9d4edd, 90vw 90vh 1px white;
            opacity: 0.4;
            animation: pulseStars 4s infinite alternate;
        }

        @keyframes pulseStars {
            from { opacity: 0.2; } to { opacity: 0.6; }
        }

        /* --- The Note Overlay (Ethereal Glass) --- */
        #note-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(10, 10, 20, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            z-index: 200;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            color: white;
        }

        .note-content {
            padding: 30px;
            border-radius: 30px;
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 85%;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .note-content h2 {
            font-weight: 200;
            letter-spacing: 5px;
            text-transform: uppercase;
            color: var(--accent-light);
            text-shadow: 0 0 10px var(--accent-main);
        }

        .note-content p {
            font-weight: 300;
            font-size: 1.05rem;
            opacity: 0.9;
            line-height: 1.8;
        }

        #start-button {
            margin-top: 30px;
            padding: 15px 45px;
            background: linear-gradient(45deg, var(--accent-dark), var(--accent-main));
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            box-shadow: 0 0 20px var(--accent-main);
            transition: 0.3s;
        }

        /* --- Purple Gift Box --- */
        #gift-container {
            z-index: 100;
            text-align: center;
            transition: 0.8s cubic-bezier(0.6, -0.28, 0.735, 0.045);
        }

        .gift-emoji {
            font-size: clamp(90px, 30vw, 130px);
            filter: drop-shadow(0 0 25px var(--accent-main));
            animation: godlyFloat 3s ease-in-out infinite;
        }

        @keyframes godlyFloat {
            0%, 100% { transform: translateY(0) rotate(0); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .gift-text {
            color: var(--accent-light);
            margin-top: 20px;
            font-weight: 200;
            letter-spacing: 4px;
            text-shadow: 0 0 8px var(--accent-main);
        }

        /* --- Photos (Ethereal Polaroid) --- */
        .popping-photo {
            position: absolute;
            width: clamp(160px, 45vw, 240px);
            border: 8px solid white;
            border-bottom: 35px solid white;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            pointer-events: none;
            z-index: 10;
            animation: emerge 4s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }

        @keyframes emerge {
            0% { transform: translate(-50%, -50%) scale(0) rotate(-20deg); opacity: 0; filter: brightness(2) blur(10px); }
            15% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 1; filter: brightness(1) blur(0px); }
            80% { opacity: 1; filter: brightness(1); }
            100% { transform: translate(-50%, -60%) scale(0.9) rotate(10deg); opacity: 0; filter: blur(20px); }
        }

        .fade-out { opacity: 0; transform: scale(3) rotate(20deg); pointer-events: none; }
    </style>
</head>
<body>

    <div id="note-overlay">
        <div class="note-content">
            <h2>Ethereal Love</h2>
            <p>In a universe of billions, I found you.</p>
            <p>Every moment we share is written in the stars.</p>
            <button id="start-button" onclick="closeNote()">Ascend</button>
        </div>
    </div>

    <div id="gift-container" onclick="openGift(event)">
        <div class="gift-emoji">üéÅ</div> 
        <div class="gift-text">REVEAL THE GALAXY</div>
    </div>

    <script>
        let isOpened = false;
        let noteClosed = false;

        const myPhotos = [
            "pic1.jpeg", "pic2.jpeg", "pic3.jpeg", "pic4.jpeg", "pic5.jpeg",
            "pic6.jpeg", "pic7.jpeg", "pic8.jpeg", "pic9.jpeg", "pic10.jpeg",
            "pic11.jpeg", "pic12.jpeg", "pic13.png", "pic14.jpeg", "pic15.jpeg",
            "pic16.jpeg", "pic17.jpeg"
        ];

        function closeNote() {
            document.getElementById('note-overlay').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('note-overlay').style.visibility = 'hidden';
                noteClosed = true;
            }, 800);
        }

        function openGift(e) {
            if (isOpened || !noteClosed) return;
            isOpened = true;
            document.getElementById('gift-container').classList.add('fade-out');
            setTimeout(createHeartBurst, 500);
        }

        function createHeartBurst() {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            const isPortrait = window.innerHeight > window.innerWidth;
            const scale = isPortrait ? (window.innerWidth / 32) : (window.innerHeight / 30);

            myPhotos.forEach((src, i) => {
                setTimeout(() => {
                    const t = (i / myPhotos.length) * Math.PI * 2;
                    const x = 16 * Math.pow(Math.sin(t), 3);
                    const y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                    spawnPhoto(centerX + (x * scale), centerY + (y * scale), src, 6000, true);
                }, i * 180);
            });
        }

        function spawnPhoto(x, y, src, duration = 3500, isBurst = false) {
            const img = document.createElement('img');
            img.src = src;
            img.classList.add('popping-photo');
            img.style.left = x + 'px';
            img.style.top = y + 'px';
            
            // Random tilt for variety
            const tilt = isBurst ? (Math.random() * 10 - 5) : (Math.random() * 30 - 15);
            img.style.transform = `translate(-50%, -50%) rotate(${tilt}deg)`;

            document.body.appendChild(img);
            setTimeout(() => { img.remove(); }, duration);
        }

        document.addEventListener('touchstart', (e) => {
            if (isOpened && noteClosed) {
                const touch = e.touches[0];
                const randomSrc = myPhotos[Math.floor(Math.random() * myPhotos.length)];
                spawnPhoto(touch.clientX, touch.clientY, randomSrc);
            }
        });

        // Desktop fallback
        document.addEventListener('mousedown', (e) => {
            if (isOpened && noteClosed && !('ontouchstart' in window)) {
                if (e.target.id !== 'gift-container' && e.target.id !== 'start-button') {
                    const randomSrc = myPhotos[Math.floor(Math.random() * myPhotos.length)];
                    spawnPhoto(e.clientX, e.clientY, randomSrc);
                }
            }
        });
    </script>
</body>

</html>
